import{l as x,c as i,o as c,a as s,F as b,b as v,t as m,h as $,d as M,u as y,n as D,r as h,k as f,p as g}from"./index-Bh8dI3SF.js";const C=[{id:1,name:"耳罩式藍牙耳機",discription:"舒適配戴，支援降噪技術",price:2490,imgUrl:"https://images.unsplash.com/photo-1546435770-a3e426bf472b?q=80&amp;w=2065&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:2,name:"耳罩式彩虹耳機",discription:"舒適配戴，支援降噪技術",price:1380,imgUrl:"https://images.unsplash.com/photo-1693621947585-7b7d94149af4?q=80&w=893&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:3,name:"時尚藍牙耳機",discription:"舒適配戴，支援降噪技術",price:7990,imgUrl:"https://images.unsplash.com/photo-1605464315542-bda3e2f4e605?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8ZWFycGhvbmV8ZW58MHx8MHx8fDI%3D"},{id:4,name:"機械式鍵盤",discription:"紅軸機械鍵盤，打字手感極佳",price:1890,imgUrl:"https://images.unsplash.com/photo-1618384887929-16ec33fab9ef?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8a2V5Ym9hcmR8ZW58MHx8MHx8fDA%3D"},{id:5,name:"無線滑鼠",discription:"靜音按鍵設計，長效電池",price:890,imgUrl:"https://images.unsplash.com/photo-1527864550417-7fd91fc51a46?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bW91c2V8ZW58MHx8MHx8fDA%3D"}],k={class:"col-md-8"},A={class:"row"},H={class:"card h-100"},T=["src","alt"],W={class:"card-body d-flex flex-column"},B={class:"card-title"},q={class:"card-text"},V={class:"fw-bold text-primary mt-auto"},U=["onClick"],j={__name:"AdvancedProductList",props:{products:Array,cart:Array,showToast:Function},emits:["update:cart"],setup(_,{emit:u}){const e=_,r=u,d=x("showToast"),n=l=>{const a=e.cart.find(t=>t.id===l.id);a?(a.quantity+=1,r("update:cart",e.cart),d(`${l.name} 已更新數量`,"success")):(e.cart.push({...l,quantity:1}),r("update:cart",e.cart),d(`${l.name} 已加入購物車`,"success"))};return(l,a)=>(c(),i("div",k,[a[0]||(a[0]=s("h2",{class:"mb-3"},"商品列表",-1)),s("div",A,[(c(!0),i(b,null,v(_.products,t=>(c(),i("div",{class:"col-md-4 mb-4",key:t.id},[s("div",H,[s("img",{src:t.imgUrl,alt:t.name,class:"card-img-top"},null,8,T),s("div",W,[s("h5",B,m(t.name),1),s("p",q,m(t.discription),1),s("p",V,"$ "+m(t.price),1),s("button",{onClick:o=>n(t),class:"btn btn-success w-100"}," 加入購物車 ",8,U)])])]))),128))])]))}},F={class:"col-md-4"},I={key:0,class:"alert alert-secondary",role:"alert"},Z={key:1,class:"list-group mb-3"},Y={class:"my-0"},z={class:"text-muted"},G={class:"text-muted"},N=["onClick"],L={class:"text-end fw-bold"},R={__name:"AdvancedCart",props:{cart:Array},emits:["update:cart","deleteCartItem"],setup(_,{emit:u}){const e=_,r=u,d=x("showToast"),n=$(()=>e.cart.reduce((a,t)=>a+t.price*t.quantity,0)),l=a=>{const t=e.cart.findIndex(o=>o.id===a);t!==-1&&(e.cart.splice(t,1),r("update:cart",e.cart),r("deleteCartItem",a)),d("商品已移除","danger")};return(a,t)=>(c(),i("div",F,[t[0]||(t[0]=s("h2",{class:"mb-3"},"購物車",-1)),e.cart.length===0?(c(),i("div",I," 請選擇商品 ")):(c(),i("ul",Z,[(c(!0),i(b,null,v(e.cart,o=>(c(),i("li",{key:o.id,class:"list-group-item d-flex justify-content-between align-items-center"},[s("div",null,[s("h6",Y,m(o.name),1),s("small",z,"數量："+m(o.quantity),1)]),s("div",null,[s("span",G,"$"+m(o.price),1),s("button",{onClick:p=>l(o.id),class:"btn btn-sm btn-outline-danger ms-2"}," 移除 ",8,N)])]))),128))])),s("div",L,"總金額："+m(n.value),1)]))}},E={key:0,class:"toast-container position-fixed top-0 end-0 p-3",style:{"z-index":"1050"}},O={class:"d-flex"},P={class:"toast-body"},S=["onClick"],X={__name:"AdvancedToasts",emits:["removeToast"],setup(_,{emit:u}){const e=x("toasts"),r=u,d=n=>{r("removeToast",n)};return(n,l)=>y(e)?(c(),i("div",E,[(c(!0),i(b,null,v(y(e),a=>(c(),i("div",{key:a.id,class:D([a.type==="success"?"bg-success":"bg-danger","toast show align-items-center text-white border-0"]),role:"alert","aria-live":"assertive","aria-atomic":"true"},[s("div",O,[s("div",P,m(a.message),1),s("button",{onClick:t=>d(a.id),type:"button",class:"btn-close btn-close-white me-2 m-auto"},null,8,S)])],2))),128))])):M("",!0)}},J={id:"app",class:"container py-4"},K={class:"row"},tt={__name:"Week4View",setup(_){const u=h(C),e=h([]),r=o=>{e.value=o},d=o=>{e.value=e.value.filter(p=>p.id!==o)},n=h([]);let l=0;const a=(o,p="success")=>{const w=++l;n.value.push({id:w,message:o,type:p}),setTimeout(()=>{t(w)},2e3)},t=o=>{n.value=n.value.filter(p=>p.id!==o)};return g("toasts",n),g("showToast",a),(o,p)=>(c(),i("div",J,[s("div",K,[f(j,{products:u.value,cart:e.value,"onUpdate:cart":r},null,8,["products","cart"]),f(R,{cart:e.value,"onUpdate:cart":r,onDeleteCartItem:d},null,8,["cart"])]),f(X,{onRemoveToast:t})]))}};export{tt as default};
